name = "chitty-janitor"
main = "src/worker.ts"
compatibility_date = "2025-01-15"
node_compat = true

[triggers]
crons = ["0 */6 * * *"]

[vars]
ENVIRONMENT = "production"
VERSION = "3.0.0"

[[kv_namespaces]]
binding = "JANITOR_STATE"
id = "placeholder-kv-namespace-id"
preview_id = "placeholder-preview-kv-namespace-id"

[[r2_buckets]]
binding = "JANITOR_METRICS"
bucket_name = "chitty-janitor-metrics"
preview_bucket_name = "chitty-janitor-metrics-preview"

[observability]
enabled = true

# Secrets (set via: wrangler secret put <NAME>)
# - ANTHROPIC_API_KEY
# - OPENAI_API_KEY
# - GOOGLE_API_KEY
# - CHITTY_ID_TOKEN
